<!DOCTYPE html>
<html lang="en">

<head>
    <title>Treasure Page</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
        integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz"
        crossorigin="anonymous"></script>
</head>
<body>
    <h1>Treasure hunt - Gautam Sagar Mallela</h1>
    <p class="p-2 mb-2 bg-warning text-dark">Click on the chests to search for treasure</p>
    <p id="chests" class="text-center text-primary  ">Number of chests checked is zero.</p>
    <p id="score" class="text-center text-info">Score is unknown.</p>
    <p id="help" onclick="help()" class="text-center text-body">Help report</p>

    <div class="image-grid d-flex flex-column justify-content-center align-items-center">
        <div class="d-flex flex-row">
            <div class="img-fluid"><img src="treasureBox.jpg" id="0" onclick="check(0)" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="1" onclick="check(1)" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="2" onclick="check(2)" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="3" onclick="check(3)" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="4" onclick="check(4)" height="100" width="100"
                    alt="treasureBox"></div>
        </div>
        <div class="d-flex flex-row">
            <div class="img-fluid"><img src="treasureBox.jpg" id="5" onclick="check(5)" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="6" onclick="check(6)" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="7" onclick="check(7)" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="8" onclick="check(8)" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="9" onclick="check(9)" height="100" width="100"
                    alt="treasureBox"></div>
        </div>
        <div class="d-flex flex-row">
            <div class="img-fluid"><img src="treasureBox.jpg" id="10" onclick="check(10)" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="10" onclick="check(11)" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="12" onclick="help()" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="13" onclick="check(13)" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="14" onclick="check(14)" height="100" width="100"
                    alt="treasureBox"></div>
        </div>
        <div class="d-flex flex-row">
            <div class="img-fluid"><img src="treasureBox.jpg" id="15" onclick="check(15)" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="16" onclick="check(16)" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="17" onclick="check(17)" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="18" onclick="check(18)" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="19" onclick="check(19)" height="100" width="100"
                    alt="treasureBox"></div>
        </div>
        <div class="d-flex flex-row">
            <div class="img-fluid"><img src="treasureBox.jpg" id="20" onclick="check(20)" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="21" onclick="check(21)" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="22" onclick="check(22)" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="23" onclick="check(23)" height="100" width="100"
                    alt="treasureBox"></div>
            <div class="img-fluid"><img src="treasureBox.jpg" id="24" onclick="check(24)" height="100" width="100"
                    alt="treasureBox"></div>
        </div>
    </div>
</body>
<script>
    let ids = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24'];
    let chestCount = 0
    let score = 0
    let lastCheck = 12
    let treasureLocation = 18
    let isWon = false
    let chestsElement = document.getElementById('chests')
    let scoreElement = document.getElementById('score')
    function check(position) {
        let imageID = ids[position]
        let imageElement = document.getElementById(imageID)
        if (position == treasureLocation) {
            imageElement.src = 'treasureChest.jpg'
            score++
        } else {
            imageElement.src = 'emptyChest.jpg'
        }
        chestCount++
        chestsElement.innerText = "Number of chests: " + chestCount
        scoreElement.innerText = "Score is: " + score
        lastCheck = position
    }
    function help() {
        let result = ""   
        if ((Math.floor(lastCheck / 5) == 3.0) && (lastCheck % 5 == 3)) {
            isWon = true
        }
        if (isWon) {
            result = "Sorry, no help available"
        }else if (Math.floor(lastCheck / 5) == 3.0) {
            if (lastCheck > treasureLocation) {
                result = "left"
            }else if (lastCheck < treasureLocation) {
                result = "right"
            }
        }else if (lastCheck % 5 == 3) {
            if (lastCheck > treasureLocation) {
                result = "up"
            }else if (lastCheck < treasureLocation) {
                result = "down"
            }
        }else {
            result = "Sorry, no help available"
        }
        document.getElementById('help').innerText = result
        score += 2
        document.getElementById('score').innerText = "Score is: " + score
    }
</script>

</html>